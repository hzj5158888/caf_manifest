From b23a6abcd00f90e3442510477c5640539e59c575 Mon Sep 17 00:00:00 2001
From: LuK1337 <priv.luk@gmail.com>
Date: Tue, 6 Sep 2016 14:37:56 +0200
Subject: [PATCH 2/4] Fix NPE while setting network name

Change-Id: I124f86493e013d0b30d520cf988c5804a39d8a0a
---
 .../com/android/systemui/statusbar/policy/MobileSignalController.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/packages/SystemUI/src/com/android/systemui/statusbar/policy/MobileSignalController.java b/packages/SystemUI/src/com/android/systemui/statusbar/policy/MobileSignalController.java
index 8e7205b..6295e3b 100644
--- a/packages/SystemUI/src/com/android/systemui/statusbar/policy/MobileSignalController.java
+++ b/packages/SystemUI/src/com/android/systemui/statusbar/policy/MobileSignalController.java
@@ -628,7 +628,7 @@ public class MobileSignalController extends SignalController<
             mCurrentState.networkName = mServiceState.getOperatorAlphaShort();
         }
 
-        if (!showLongOperatorName()) {
+        if (!showLongOperatorName() && mServiceState != null) {
             mCurrentState.networkNameData = TextUtils.isEmpty(mServiceState.
                     getOperatorAlphaShort()) ? mCurrentState.networkNameData : mServiceState.
                     getOperatorAlphaShort() + " " + getNetworkClassString(mServiceState);
-- 
2.7.4

